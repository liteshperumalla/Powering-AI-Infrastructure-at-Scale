# Production Environment Configuration for Infra Mind
# This file contains production-ready environment variable templates
# Copy and customize for your production deployment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
INFRA_MIND_ENVIRONMENT=production
INFRA_MIND_DEBUG=false
INFRA_MIND_APP_NAME="Infra Mind"
INFRA_MIND_APP_VERSION="1.0.0"

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CRITICAL: Generate a secure secret key for JWT tokens
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
INFRA_MIND_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_32_CHAR_SECRET_KEY

# JWT Configuration
INFRA_MIND_ACCESS_TOKEN_EXPIRE_MINUTES=30
INFRA_MIND_REFRESH_TOKEN_EXPIRE_DAYS=7
INFRA_MIND_ALGORITHM=HS256

# Password Security Requirements
INFRA_MIND_PASSWORD_MIN_LENGTH=8
INFRA_MIND_PASSWORD_REQUIRE_SPECIAL=true
INFRA_MIND_PASSWORD_REQUIRE_NUMBERS=true
INFRA_MIND_PASSWORD_REQUIRE_UPPERCASE=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Production MongoDB with authentication, SSL, and advanced settings
# Option 1: MongoDB Atlas (recommended for production)
INFRA_MIND_MONGODB_URL=mongodb+srv://username:password@cluster.mongodb.net/infra_mind?retryWrites=true&w=majority&ssl=true&authSource=admin&readPreference=primaryPreferred&maxPoolSize=100&minPoolSize=10&maxIdleTimeMS=45000&serverSelectionTimeoutMS=10000&socketTimeoutMS=30000&connectTimeoutMS=10000&heartbeatFrequencyMS=10000

# Option 2: Self-hosted MongoDB with replica set
# INFRA_MIND_MONGODB_URL=mongodb://username:password@mongo1.example.com:27017,mongo2.example.com:27017,mongo3.example.com:27017/infra_mind?replicaSet=rs0&ssl=true&authSource=admin&w=majority&j=true&readPreference=primaryPreferred

# Option 3: Single instance with SSL (not recommended for production)
# INFRA_MIND_MONGODB_URL=mongodb://username:password@mongodb.example.com:27017/infra_mind?ssl=true&authSource=admin&w=majority&j=true

INFRA_MIND_MONGODB_DATABASE=infra_mind
INFRA_MIND_MONGODB_MAX_CONNECTIONS=100
INFRA_MIND_MONGODB_MIN_CONNECTIONS=10

# Production Redis with authentication and SSL
# Option 1: AWS ElastiCache with SSL
INFRA_MIND_REDIS_URL=rediss://username:password@redis-cluster.cache.amazonaws.com:6380/0?ssl_cert_reqs=required

# Option 2: Azure Cache for Redis with SSL
# INFRA_MIND_REDIS_URL=rediss://cache-name.redis.cache.windows.net:6380?password=your-access-key&ssl_cert_reqs=required

# Option 3: Self-hosted Redis with SSL
# INFRA_MIND_REDIS_URL=rediss://username:password@redis.example.com:6380/0?ssl_cert_reqs=required

# Option 4: Redis Cluster (comma-separated nodes)
# INFRA_MIND_REDIS_URL=redis://password@redis-node1.example.com:6379
# INFRA_MIND_REDIS_CLUSTER_NODES=redis-node1.example.com:6379,redis-node2.example.com:6379,redis-node3.example.com:6379

INFRA_MIND_REDIS_MAX_CONNECTIONS=20
INFRA_MIND_REDIS_PASSWORD=your-secure-redis-password-here

# Redis Clustering Configuration
INFRA_MIND_REDIS_CLUSTER_ENABLED=false
INFRA_MIND_REDIS_CLUSTER_NODES=

# Redis Performance Configuration
INFRA_MIND_REDIS_CONNECTION_TIMEOUT=5
INFRA_MIND_REDIS_SOCKET_TIMEOUT=5
INFRA_MIND_REDIS_RETRY_ON_TIMEOUT=true
INFRA_MIND_REDIS_HEALTH_CHECK_INTERVAL=30

# Redis Monitoring
INFRA_MIND_REDIS_MONITORING_ENABLED=true
INFRA_MIND_REDIS_COMPRESSION_ENABLED=true
INFRA_MIND_REDIS_MAX_MEMORY_POLICY=allkeys-lru

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# OpenAI Configuration
INFRA_MIND_OPENAI_API_KEY=sk-your-openai-api-key-here
INFRA_MIND_LLM_MODEL=gpt-4
INFRA_MIND_LLM_TEMPERATURE=0.1
INFRA_MIND_LLM_MAX_TOKENS=4000
INFRA_MIND_LLM_TIMEOUT=60

# Anthropic Configuration (optional fallback)
INFRA_MIND_ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Azure OpenAI Configuration (optional)
INFRA_MIND_AZURE_OPENAI_API_KEY=your-azure-openai-key
INFRA_MIND_AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# =============================================================================
# CLOUD PROVIDER CONFIGURATION
# =============================================================================

# AWS Configuration
INFRA_MIND_AWS_ACCESS_KEY_ID=AKIA...
INFRA_MIND_AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
INFRA_MIND_AWS_REGION=us-east-1
# Optional: Use IAM roles instead of access keys in production
# INFRA_MIND_AWS_PROFILE=production

# Azure Configuration
INFRA_MIND_AZURE_CLIENT_ID=your-azure-client-id
INFRA_MIND_AZURE_CLIENT_SECRET=your-azure-client-secret
INFRA_MIND_AZURE_TENANT_ID=your-azure-tenant-id
INFRA_MIND_AZURE_SUBSCRIPTION_ID=your-azure-subscription-id

# GCP Configuration
INFRA_MIND_GCP_PROJECT_ID=your-gcp-project-id
INFRA_MIND_GCP_REGION=us-central1
# Option 1: Service account file path
INFRA_MIND_GCP_SERVICE_ACCOUNT_PATH=/app/secrets/gcp-service-account.json
# Option 2: Service account JSON content (for containerized deployments)
# INFRA_MIND_GCP_SERVICE_ACCOUNT_JSON='{"type": "service_account", ...}'

# Terraform Cloud Configuration
INFRA_MIND_TF_CLOUD_TOKEN=your-terraform-cloud-token
INFRA_MIND_TF_CLOUD_ORGANIZATION=your-terraform-organization

# =============================================================================
# API CONFIGURATION
# =============================================================================
INFRA_MIND_API_HOST=0.0.0.0
INFRA_MIND_API_PORT=8000
INFRA_MIND_API_PREFIX=/api/v1

# CORS Configuration (restrict to your domains)
INFRA_MIND_CORS_ORIGINS='["https://yourdomain.com","https://www.yourdomain.com","https://app.yourdomain.com"]'
INFRA_MIND_CORS_ALLOW_CREDENTIALS=true
INFRA_MIND_CORS_ALLOW_METHODS='["GET","POST","PUT","DELETE","OPTIONS"]'
INFRA_MIND_CORS_ALLOW_HEADERS='["*"]'

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
INFRA_MIND_RATE_LIMIT_REQUESTS=1000
INFRA_MIND_RATE_LIMIT_BURST=2000

# Cloud API Rate Limits (requests per minute)
INFRA_MIND_AWS_RATE_LIMIT=500
INFRA_MIND_AZURE_RATE_LIMIT=2000
INFRA_MIND_GCP_RATE_LIMIT=500

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
INFRA_MIND_CACHE_ENABLED=true
INFRA_MIND_CACHE_DEFAULT_TTL=3600
INFRA_MIND_CACHE_PRICING_TTL=86400

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================
INFRA_MIND_LOG_LEVEL=INFO
INFRA_MIND_LOG_FORMAT=json
INFRA_MIND_LOG_FILE=/var/log/infra-mind/app.log

# Sentry Error Tracking (optional)
INFRA_MIND_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Metrics and Health Checks
INFRA_MIND_METRICS_ENABLED=true
INFRA_MIND_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# SECURITY HEADERS AND FEATURES
# =============================================================================
INFRA_MIND_SECURITY_HEADERS_ENABLED=true
INFRA_MIND_HSTS_MAX_AGE=31536000

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
INFRA_MIND_MAX_FILE_SIZE=10485760
INFRA_MIND_ALLOWED_FILE_TYPES='[".json",".yaml",".yml",".txt",".csv"]'

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google Search API (for web research)
INFRA_MIND_GOOGLE_SEARCH_API_KEY=your-google-search-api-key
INFRA_MIND_GOOGLE_SEARCH_ENGINE_ID=your-custom-search-engine-id

# Bing Search API (alternative)
INFRA_MIND_BING_SEARCH_API_KEY=your-bing-search-api-key

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
INFRA_MIND_WEBHOOK_SECRET=your-webhook-secret-for-verification
INFRA_MIND_WEBHOOK_TIMEOUT=30

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================
# Container/Kubernetes specific
INFRA_MIND_POD_NAME=${HOSTNAME}
INFRA_MIND_NAMESPACE=infra-mind-production

# Load balancer health check path
INFRA_MIND_HEALTH_CHECK_PATH=/health

# Graceful shutdown timeout
INFRA_MIND_SHUTDOWN_TIMEOUT=30